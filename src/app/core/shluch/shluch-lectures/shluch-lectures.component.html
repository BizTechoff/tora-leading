<div class="full-page">
    <div class="header">
        <div style="display: flex; flex-direction: column; justify-content: space-between; ">
            <div style="display: flex; flex-direction: row; justify-content: space-between; ">
                <div style="width: 100%;">
                    <data-control [field]='this.$.search'></data-control>
                </div>
            </div>
            <div style="display: flex; flex-direction: row; justify-content: space-between; ">
                <button style="width: 100%;" mat-raised-button color='primary' (click)="addLecture()">
                    <mat-icon>add</mat-icon>
                    <mat-label> {{ this.terms.addLecture }} </mat-label>
                </button>
            </div>
        </div>
    </div>
    <div *ngIf="this.lectures" class="grow-item" style="margin: 5px;">
        <span> {{ 'נמצאו: ' + this.lectures.length + ' נושאים' }} </span>
        <mat-card style="margin: 18px 4px; box-shadow: 
        0px 0px 10px 0px #9b9b9b,
        0 1px 1px 0 #9b9b9b,
        0 1px 3px 0 #9b9b9b;" *ngFor="let l of this.lectures">
            <mat-card-title> {{ l.name }} </mat-card-title>
            <mat-card-subtitle> {{ 'סה"כ בוצעו: 8 חודשים מתוך ' + l.months + ' חודשים' }} </mat-card-subtitle>
            <!-- <div style="background-color: red; vertical-align: middle; display: flex; flex-direction: row; justify-content: space-evenly; ">
                <mat-card-subtitle> {{ 'בוצעו: ' + 8 + ' חודשים' }} </mat-card-subtitle>
                <mat-card-subtitle> {{ 'שולמו: ' + 8 + ' חודשים' }} </mat-card-subtitle>
            </div> -->
            <!-- <div>
                <mat-card-subtitle> {{ 'נותרו: ' + (l.months - 8) + ' חודשים' }} </mat-card-subtitle>
            </div> -->
            <mat-card-content>
                <!-- style="box-shadow: none;" -->
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title> {{ 'פירוט חודשי לימוד' }} </mat-panel-title>
                    </mat-expansion-panel-header>
                    <data-grid [settings]="getGrid(l)"></data-grid>
                    <!-- <table>
                        <tr *ngFor="let ll of l.lectures">
                            <td> {{ ll.month?.caption }} </td>
                            <td> {{ ll.done }} </td>
                            <td> {{ ll.payed }} </td>
                        </tr>
                    </table> -->
                    <mat-card-actions>
                        <button style="width: 100%;" mat-raised-button color='primary' (click)="addLectureMonth(l)">
                            <mat-icon>add</mat-icon>
                            <mat-label> {{ 'הוספת חודש לימוד' }} </mat-label>
                        </button> 
                    </mat-card-actions>
                </mat-expansion-panel>
            </mat-card-content>
        </mat-card>
    </div> 
    <div class="footer">
        <div style="display: flex; flex-direction: row; justify-content: space-between; ">
            <!-- <button style="width: 100%;" mat-raised-button color='primary'>
                <mat-label> {{ this.terms.update }} </mat-label>
            </button> -->
        </div>
    </div>
</div>